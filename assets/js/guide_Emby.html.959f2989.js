"use strict";(self.webpackChunkwomeng_docs=self.webpackChunkwomeng_docs||[]).push([[6],{8371(s,a,n){n.r(a),n.d(a,{comp:()=>i,data:()=>p});var e=n(641);const l={},i=(0,n(6262).A)(l,[["render",function(s,a){return(0,e.uX)(),(0,e.CE)("div",null,[...a[0]||(a[0]=[(0,e.Fv)('<h1 id="emby-伪站破解认证" tabindex="-1"><a class="header-anchor" href="#emby-伪站破解认证"><span>Emby 伪站破解认证</span></a></h1><p>创建 CA 根证书</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">openssl genrsa <span class="token parameter variable">-out</span> ca.key <span class="token number">4096</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建CA根证书（自签名）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> ca.key <span class="token parameter variable">-days</span> <span class="token number">3650</span> <span class="token parameter variable">-sha256</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-subj</span> <span class="token string">&quot;/C=JP/ST=Japan/L=Japan/O=Emby/CN=Emby-Root-CA&quot;</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-out</span> ca.pem</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建服务器证书私钥（mb3admin.com）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">openssl genrsa <span class="token parameter variable">-out</span> ssl.key <span class="token number">2048</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建 SAN 配置文件（非常关键）openssl-san.cnf</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token punctuation">[</span> req <span class="token punctuation">]</span></span>\n<span class="line">default_bits       <span class="token operator">=</span> <span class="token number">2048</span></span>\n<span class="line">prompt             <span class="token operator">=</span> no</span>\n<span class="line">default_md         <span class="token operator">=</span> sha256</span>\n<span class="line">distinguished_name <span class="token operator">=</span> dn</span>\n<span class="line">req_extensions     <span class="token operator">=</span> req_ext</span>\n<span class="line"></span>\n<span class="line"><span class="token punctuation">[</span> dn <span class="token punctuation">]</span></span>\n<span class="line">C  <span class="token operator">=</span> JP</span>\n<span class="line">ST <span class="token operator">=</span> Japan</span>\n<span class="line">L  <span class="token operator">=</span> Japan</span>\n<span class="line">O  <span class="token operator">=</span> Emby</span>\n<span class="line">CN <span class="token operator">=</span> mb3admin.com</span>\n<span class="line"></span>\n<span class="line"><span class="token punctuation">[</span> req_ext <span class="token punctuation">]</span></span>\n<span class="line">subjectAltName <span class="token operator">=</span> @alt_names</span>\n<span class="line"></span>\n<span class="line"><span class="token punctuation">[</span> alt_names <span class="token punctuation">]</span></span>\n<span class="line">DNS.1 <span class="token operator">=</span> mb3admin.com</span>\n<span class="line">DNS.2 <span class="token operator">=</span> *.mb3admin.com</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成 CSR 中间文件（证书签名请求）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> ssl.key <span class="token parameter variable">-out</span> ssl.csr <span class="token parameter variable">-config</span> openssl-san.cnf</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>用 CA 根证书签名服务器 ssl 证书（核心步骤）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">openssl x509 <span class="token parameter variable">-req</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-in</span> ssl.csr <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-CA</span> ca.pem <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-CAkey</span> ca.key <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-CAcreateserial</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-out</span> ssl.crt <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-days</span> <span class="token number">825</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-sha256</span> <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-extfile</span> openssl-san.cnf <span class="token punctuation">\\</span></span>\n<span class="line"><span class="token parameter variable">-extensions</span> req_ext</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>让浏览器/客户端信任（非常重要）必须做的一步，把 ca.pem 导入到：<br> Windows：受信任的根证书颁发机构（windows下复制ca.pem重命名为ca.crt直接双击安装）<br> Android：安全 &gt; 用户凭据<br> iOS：描述文件 / 设置 → 通用 → 关于 → 证书信任</p></div><p>Linux：复制证书到 /usr/local/share/ca-certificates/ 文件下并更新证书</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">cp</span> ca.crt /usr/local/share/ca-certificates/ca.pem </span>\n<span class="line"><span class="token function">sudo</span> update-ca-certificates</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>上面一切的前提是要重定向<code>mb3admin.com</code>到指定ip</p></div>',17)])])}]]),p=JSON.parse('{"path":"/guide/Emby.html","title":"Emby 伪站破解认证","lang":"zh-CN","frontmatter":{},"headers":[],"git":{"updatedTime":1768098351000,"contributors":[{"name":"womeng","username":"womeng","email":"donglongqin@qq.com","commits":1,"url":"https://github.com/womeng"}],"changelog":[{"hash":"9826e3bb2e20ee1045924d6ca1dc4543c4cad393","time":1768098351000,"email":"donglongqin@qq.com","author":"womeng","message":"Emby"}]},"filePathRelative":"guide/Emby.md"}')}}]);